{% extends "base.html" %}

{% block content %}

  <div class="d-flex justify-content-center align-items-center p-5" style="min-height: 50vh;">
    <form method="post" action="{% url 'registro' %}" class="p-5 shadow rounded bg-light w-25">
      <div class="text-center mb-4">
        <h2>Registrarse</h2>
      </div>
      {% csrf_token %}
      <table>
        <tr>
          <td>{{ form.username.label_tag }}</td>
          <td>{{ form.username }}</td>
        </tr>
        <tr>
          <td>{{ form.email.label_tag }}</td>
          <td>{{ form.email }}</td>
        </tr>
        <tr>
          <td>{{ form.password1.label_tag }}</td><br>
          <td>{{ form.password1 }}</td>
        </tr>
        <tr>
          <td>{{ form.password2.label_tag }}</td>
          <td>{{ form.password2 }}</td>
        </tr>
      </table>

      <div class="d-flex justify-content-center mt-4">
        <input type="submit" value="Registrarse" class="btn btn-primary w-100">
      </div>
      <input type="hidden" name="next" value="{{ next }}">

      <div class="d-flex justify-content-center mt-3">
        <a href="{% url 'login' %}" class="text-decoration-none">¿Ya tienes cuenta? Iniciar sesión</a>
      </div>

    </form>
  </div>

  {% for field in form %}
    {% for error in field.errors %}
      <div class="alert alert-danger mt-2" role="alert">
        {{ error|escape }}
      </div>
    {% endfor %}
  {% endfor %}

  {% for error in form.non_field_errors %}
    <div class="alert alert-danger mt-2" role="alert">
      {{ error|escape }}
    </div>
  {% endfor %}

{% endblock %}
